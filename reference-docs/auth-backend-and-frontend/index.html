
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="An extensible workflow engine to manage customer facing resources and resource facing resources.">
      
      
      
        <link rel="canonical" href="https://workfloworchestrator.org/orchestrator-core/reference-docs/auth-backend-and-frontend/">
      
      
        <link rel="prev" href="../graphql/">
      
      
        <link rel="next" href="../cli/">
      
      
      <link rel="icon" href="../../img/favicon.ico">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.18">
    
    
      
        <title>Auth(n|z) - Workflow Orchestrator</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.7e37652d.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.06af60db.min.css">
      
      


    
    
      
    
    
      
        
        
        
        <link rel="stylesheet" href="../../assets/external/fonts.googleapis.com/css.49ea35f2.css">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../css/termynal.css">
    
      <link rel="stylesheet" href="../../css/custom.css">
    
      <link rel="stylesheet" href="../../css/style.css">
    
    <script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
      
        <meta  property="og:type"  content="website" >
      
        <meta  property="og:title"  content="Auth(n|z) - Workflow Orchestrator" >
      
        <meta  property="og:description"  content="An extensible workflow engine to manage customer facing resources and resource facing resources." >
      
        <meta  property="og:image"  content="https://workfloworchestrator.org/orchestrator-core/assets/images/social/reference-docs/auth-backend-and-frontend.png" >
      
        <meta  property="og:image:type"  content="image/png" >
      
        <meta  property="og:image:width"  content="1200" >
      
        <meta  property="og:image:height"  content="630" >
      
        <meta  property="og:url"  content="https://workfloworchestrator.org/orchestrator-core/reference-docs/auth-backend-and-frontend/" >
      
        <meta  name="twitter:card"  content="summary_large_image" >
      
        <meta  name="twitter:title"  content="Auth(n|z) - Workflow Orchestrator" >
      
        <meta  name="twitter:description"  content="An extensible workflow engine to manage customer facing resources and resource facing resources." >
      
        <meta  name="twitter:image"  content="https://workfloworchestrator.org/orchestrator-core/assets/images/social/reference-docs/auth-backend-and-frontend.png" >
      
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#authentication-and-authorization" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="Workflow Orchestrator" class="md-header__button md-logo" aria-label="Workflow Orchestrator" data-md-component="logo">
      
  <img src="../../img/WFO-Emblem-White.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Workflow Orchestrator
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Auth(n|z)
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 1 7 7c0 2.38-1.19 4.47-3 5.74V17a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-2.26C6.19 13.47 5 11.38 5 9a7 7 0 0 1 7-7M9 21v-1h6v1a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1m3-17a5 5 0 0 0-5 5c0 2.05 1.23 3.81 3 4.58V16h4v-2.42c1.77-.77 3-2.53 3-4.58a5 5 0 0 0-5-5"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="teal" data-md-color-accent="amber"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 2a7 7 0 0 0-7 7c0 2.38 1.19 4.47 3 5.74V17a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1v-2.26c1.81-1.27 3-3.36 3-5.74a7 7 0 0 0-7-7M9 21a1 1 0 0 0 1 1h4a1 1 0 0 0 1-1v-1H9z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/workfloworchestrator/orchestrator-core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    workfloworchestrator/orchestrator-core
  </div>
</a>
      </div>
    
  </nav>
  
    
      
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../.." class="md-tabs__link">
          
  
  
    
  
  Workflow Orchestrator

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../getting-started/versions/" class="md-tabs__link">
          
  
  
    
  
  Guides

        </a>
      </li>
    
  

    
  

      
        
  
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="../tldr/" class="md-tabs__link">
          
  
  
    
  
  Reference Documentation

        </a>
      </li>
    
  

      
        
  
  
  
  
    
    
      
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../workshops/advanced/overview/" class="md-tabs__link">
          
  
  
    
  
  Workshops

        </a>
      </li>
    
  

    
  

      
        
  
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../../contributing/development/" class="md-tabs__link">
          
  
  
    
  
  Contributing

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
    
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="Workflow Orchestrator" class="md-nav__button md-logo" aria-label="Workflow Orchestrator" data-md-component="logo">
      
  <img src="../../img/WFO-Emblem-White.png" alt="logo">

    </a>
    Workflow Orchestrator
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/workfloworchestrator/orchestrator-core" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
  </div>
  <div class="md-source__repository">
    workfloworchestrator/orchestrator-core
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1" >
        
          
          <div class="md-nav__link md-nav__container">
            <a href="../.." class="md-nav__link ">
              
  
  
  <span class="md-ellipsis">
    Workflow Orchestrator
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_1" id="__nav_1_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1">
            <span class="md-nav__icon md-icon"></span>
            Workflow Orchestrator
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/framework/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Orchestrator Framework
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3" >
        
          
          <label class="md-nav__link" for="__nav_1_3" id="__nav_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Orchestrator UI
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3">
            <span class="md-nav__icon md-icon"></span>
            Orchestrator UI
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/orchestration/orchestrator-ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Orchestrator UI
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_3_2" >
        
          
          <label class="md-nav__link" for="__nav_1_3_2" id="__nav_1_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    User input forms
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_3_2">
            <span class="md-nav__icon md-icon"></span>
            User input forms
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/application/forms-frontend/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generic solution
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4" >
        
          
          <label class="md-nav__link" for="__nav_1_4" id="__nav_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Architecture
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4">
            <span class="md-nav__icon md-icon"></span>
            Architecture
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/tldr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Architecture; TL;DR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/orchestration/philosophy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Orchestration Philosophy
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/application/domainmodels/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Domain Models
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/application/workflow/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    How do Workflows work?
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4_5" >
        
          
          <label class="md-nav__link" for="__nav_1_4_5" id="__nav_1_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Product modeling
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_1_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4_5">
            <span class="md-nav__icon md-icon"></span>
            Product modeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/standards/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Standards
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/modelling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modelling
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/context/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Context
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/terminology/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terminology
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_1_4_5_6" >
        
          
          <label class="md-nav__link" for="__nav_1_4_5_6" id="__nav_1_4_5_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Example Product Models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_1_4_5_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_1_4_5_6">
            <span class="md-nav__icon md-icon"></span>
            Example Product Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/node/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Node
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/port/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Port
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/l2_point_to_point/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L2 Point-to-Point
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/l2_vpn/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L2 VPN
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/ip_static/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    IP Static
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../architecture/product_modelling/product_block_graph/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Product Block Graph
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1" >
        
          
          <label class="md-nav__link" for="__nav_2_1" id="__nav_2_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Getting Started
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1">
            <span class="md-nav__icon md-icon"></span>
            Getting Started
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/versions/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Prerequisites
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_2" >
        
          
          <label class="md-nav__link" for="__nav_2_1_2" id="__nav_2_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Application
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_2">
            <span class="md-nav__icon md-icon"></span>
            Application
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/prepare-source-folder/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Preparing source folder
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/base/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Base application
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/agentic/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agentic application
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_1_3" >
        
          
          <label class="md-nav__link" for="__nav_2_1_3" id="__nav_2_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_2_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_1_3">
            <span class="md-nav__icon md-icon"></span>
            Workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating a workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/workflows#register-workflows" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Registering a workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/docker/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Docker
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/orchestration-ui/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Orchestrator UI
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_2" >
        
          
          <label class="md-nav__link" for="__nav_2_2" id="__nav_2_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Product Modeling
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_2">
            <span class="md-nav__icon md-icon"></span>
            Product Modeling
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/product-modeling/imports/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Importing Existing Products
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/product-modeling/backfilling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Backfilling Existing Subscriptions
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/tasks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Creating Tasks and Schedules
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/scaling/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scaling the Orchestrator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/pause-and-resume/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Pausing the Orchestrator
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2_6" >
        
          
          <label class="md-nav__link" for="__nav_2_6" id="__nav_2_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Upgrade Guides
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_2_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2_6">
            <span class="md-nav__icon md-icon"></span>
            Upgrade Guides
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/upgrading/2.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    2.x
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/upgrading/3.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    3.x
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../guides/upgrading/4.0/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    4.x
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" checked>
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
            
  
  
  <span class="md-ellipsis">
    Reference Documentation
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Reference Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../tldr/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    TL;DR
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_2" >
        
          
          <label class="md-nav__link" for="__nav_3_2" id="__nav_3_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    API docs
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_2">
            <span class="md-nav__icon md-icon"></span>
            API docs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../api/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Rest API
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../graphql/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    GraphQL
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    Auth(n|z)
    
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    Auth(n|z)
    
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Definitions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#without-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Without authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Without authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backend" class="md-nav__link">
    <span class="md-ellipsis">
      Backend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#with-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      With Authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="With Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frontend_1" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authorization" class="md-nav__link">
    <span class="md-ellipsis">
      Authorization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend_1" class="md-nav__link">
    <span class="md-ellipsis">
      Backend
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customization" class="md-nav__link">
    <span class="md-ellipsis">
      Customization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing" class="md-nav__link">
    <span class="md-ellipsis">
      Customizing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authorization-and-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Authorization and Workflows
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authorization and Workflows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      @workflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inputstep" class="md-nav__link">
    <span class="md-ellipsis">
      @inputstep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-resolutions" class="md-nav__link">
    <span class="md-ellipsis">
      Policy resolutions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rubber-stamp-model" class="md-nav__link">
    <span class="md-ellipsis">
      Rubber Stamp Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hand-off-model" class="md-nav__link">
    <span class="md-ellipsis">
      Hand-off Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restricted-retries-model" class="md-nav__link">
    <span class="md-ellipsis">
      Restricted Retries Model
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cli/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    CLI Tools
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../database/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Database
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6" >
        
          
          <label class="md-nav__link" for="__nav_3_6" id="__nav_3_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Domain Models
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6">
            <span class="md-nav__icon md-icon"></span>
            Domain Models
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../domain_models/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_2" >
        
          
          <label class="md-nav__link" for="__nav_3_6_2" id="__nav_3_6_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Domain Model Types
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_2">
            <span class="md-nav__icon md-icon"></span>
            Domain Model Types
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../domain_models/product_types/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Product Types
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../domain_models/product_blocks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Product Blocks
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../domain_models/model_attributes/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Model Attributes
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_6_3" >
        
          
          <label class="md-nav__link" for="__nav_3_6_3" id="__nav_3_6_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Helpers
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_3_6_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_6_3">
            <span class="md-nav__icon md-icon"></span>
            Helpers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../domain_models/generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Generator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../forms/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Forms
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_8" >
        
          
          <label class="md-nav__link" for="__nav_3_8" id="__nav_3_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Running the App
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_8">
            <span class="md-nav__icon md-icon"></span>
            Running the App
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../app/app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    App.py
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../app/agentic-app/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Agentic App.py
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../python/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Python Version
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../app/settings-overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Settings
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_9" >
        
          
          <label class="md-nav__link" for="__nav_3_9" id="__nav_3_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_9">
            <span class="md-nav__icon md-icon"></span>
            Workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflows/workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflows/workflow-steps/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflow Steps
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../workflows/callbacks/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Callback step
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../websockets/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Websockets
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../search/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Search
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_12" >
        
          
          <label class="md-nav__link" for="__nav_3_12" id="__nav_3_12_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Monitoring
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_12_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3_12">
            <span class="md-nav__icon md-icon"></span>
            Monitoring
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring/error-tracking/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Error Tracking
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../monitoring/metrics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Metrics
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workshops
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Workshops
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Example Orchestrator Workshop
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Example Orchestrator Workshop
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/overview/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Overview
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_2" >
        
          
          <label class="md-nav__link" for="__nav_4_1_2" id="__nav_4_1_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Bootstrapping
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_2">
            <span class="md-nav__icon md-icon"></span>
            Bootstrapping
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/bootstrap/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Getting started
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/execute-workflows/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Seeding data
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_3" >
        
          
          <label class="md-nav__link" for="__nav_4_1_3" id="__nav_4_1_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Products
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_3">
            <span class="md-nav__icon md-icon"></span>
            Products
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/scenario/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Scenario
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/domain-models/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Domain models
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_4" >
        
          
          <label class="md-nav__link" for="__nav_4_1_4" id="__nav_4_1_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workflows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_4">
            <span class="md-nav__icon md-icon"></span>
            Workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/workflow-introduction/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Introduction
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/workflow-basics/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Workflow Basics
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_1_4_3" id="__nav_4_1_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Workflow Examples
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_4_3">
            <span class="md-nav__icon md-icon"></span>
            Workflow Examples
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/node-create/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Create Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/node-modify/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Modify Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/node-terminate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Terminate Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/node-validate/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Validate Workflow
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_5" >
        
          
          <label class="md-nav__link" for="__nav_4_1_5" id="__nav_4_1_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Create your own product and workflows
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1_5">
            <span class="md-nav__icon md-icon"></span>
            Create your own product and workflows
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/create-your-own/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    L2 Point-to-Point
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../workshops/advanced/generator/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Product and Workflow Generator
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
      
        
      
        
      
    
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    Contributing
    
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/development/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Development setup
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/guidelines/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Guidelines
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../contributing/testing/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    Testing
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#definitions" class="md-nav__link">
    <span class="md-ellipsis">
      Definitions
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#without-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      Without authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Without authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#backend" class="md-nav__link">
    <span class="md-ellipsis">
      Backend
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#frontend" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend:
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#with-authentication" class="md-nav__link">
    <span class="md-ellipsis">
      With Authentication
    </span>
  </a>
  
    <nav class="md-nav" aria-label="With Authentication">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#frontend_1" class="md-nav__link">
    <span class="md-ellipsis">
      Frontend
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Frontend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#authorization" class="md-nav__link">
    <span class="md-ellipsis">
      Authorization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#backend_1" class="md-nav__link">
    <span class="md-ellipsis">
      Backend
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Backend">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#customization" class="md-nav__link">
    <span class="md-ellipsis">
      Customization
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#customizing" class="md-nav__link">
    <span class="md-ellipsis">
      Customizing
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#example" class="md-nav__link">
    <span class="md-ellipsis">
      Example
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#authorization-and-workflows" class="md-nav__link">
    <span class="md-ellipsis">
      Authorization and Workflows
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Authorization and Workflows">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#workflow" class="md-nav__link">
    <span class="md-ellipsis">
      @workflow
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#inputstep" class="md-nav__link">
    <span class="md-ellipsis">
      @inputstep
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#policy-resolutions" class="md-nav__link">
    <span class="md-ellipsis">
      Policy resolutions
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#examples" class="md-nav__link">
    <span class="md-ellipsis">
      Examples
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Examples">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#rubber-stamp-model" class="md-nav__link">
    <span class="md-ellipsis">
      Rubber Stamp Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#hand-off-model" class="md-nav__link">
    <span class="md-ellipsis">
      Hand-off Model
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#restricted-retries-model" class="md-nav__link">
    <span class="md-ellipsis">
      Restricted Retries Model
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="authentication-and-authorization">Authentication and authorization</h1>
<p>The <code>Orchestrator-Core</code> application incorporates a robust security framework, utilizing OpenID Connect (OIDC) for authentication and Open Policy Agent (OPA) for authorization. This flexible system ensures secure access, allowing you to tailor the authorization components to best fit your application's specific requirements.</p>
<p><abbr title="Workflow Orchestrator">WFO</abbr> can be run with or without authentication. With authentication turned on authorization logic can be provided that uses - for example - user privileges to allow further access to resources. Authentication is configured using ENV variables. The frontend and backend have their own set of ENV variables and logic to be implemented to run auth(n/z).</p>
<p>Note: With authentication enabled on the backend the frontend has to have authentication enabled as well. When the frontend has authentication enabled it is possible to run a backend without authentication. Please note the limitations of frontend authentication and authorization mentioned in a note under frontend authentication.</p>
<h2 id="definitions">Definitions</h2>
<p>A <strong>frontend application</strong> refers to a web frontend based on the frontend example ui repository: <a href="https://github.com/workfloworchestrator/example-orchestrator-ui">frontend repo</a>
A <strong>backend application</strong> refers to an application build using the orchestrator core as a base: <a href="https://github.com/workfloworchestrator/example-orchestrator">backend repo</a></p>
<h2 id="without-authentication">Without authentication</h2>
<p>Without authentication <abbr title="Workflow Orchestrator">WFO</abbr> allows all users access to all resources.</p>
<h5 id="backend">Backend</h5>
<p><code>OAUTH2_ACTIVE=false</code></p>
<h5 id="frontend">Frontend:</h5>
<p><code>OAUTH2_ACTIVE=false</code></p>
<h2 id="with-authentication">With Authentication</h2>
<p><abbr title="Workflow Orchestrator">WFO</abbr> provides authentication based on an OIDC provider. The OIDC provider is presumed to be configured and to provide</p>
<ul>
<li>An authentication endpoint</li>
<li>A tenant</li>
<li>A client id</li>
<li>A client secret</li>
</ul>
<h4 id="frontend_1">Frontend</h4>
<p>The <abbr title="Workflow Orchestrator">WFO</abbr> frontend uses <a href="3">NextAuth</a> to handle authentication. Authentication configuration can be found in <a href="4">page/api/auth/[...nextauth].ts</a></p>
<p><strong>ENV variables</strong>
These variables need to be set for authentication to work on the frontend.</p>
<div class="highlight"><pre><span></span><code># Auth variables
OAUTH2_ACTIVE=true
OAUTH2_CLIENT_ID=&quot;orchestrator-client&quot; // The oidc client id as configured in the OIDC provider
OAUTH2_CLIENT_SECRET=[SECRET] // The oidc client secret id as configured in the OIDC provider

NEXTAUTH_PROVIDER_ID=&quot;keycloak&quot; // String identifying the OIDC provider
NEXTAUTH_PROVIDER_NAME=&quot;Keycloak&quot; // The name of the OIDC provider. Keycloak uses this name to display in the login screen
NEXTAUTH_AUTHORIZATION_SCOPE_OVERRIDE=&quot;openid profile&quot; // Optional override of the scopes that are asked permission for from the OIDC provider

# Required by the Nextauth middleware
NEXTAUTH_URL=[DOMAIN]/api/auth // The path to the [...nextauth].js file
NEXTAUTH_SECRET=[SECRET] // Used by NextAuth to encrypt the JWT token
</code></pre></div>
<p>With authentication turned on and these variables provided the frontend application will redirect unauthorized users to the login screen provided by the OIDC provider to request their credentials and return them to the page they tried to visit.</p>
<p>Note: It's possible to add additional oidc providers including some that are provided by the NextAuth library like Google, Apple and others. See <a href="5">NextAuthProviders</a> for more information.</p>
<h5 id="authorization">Authorization</h5>
<p>Authorization on the frontend can be used to determine if a page, action or navigation item is shown to a user. For this it uses an <code>isAllowedHandler</code> function can be passed into the WfoAuth component that wraps the page in <code>_app.tsx</code></p>
<div class="highlight"><pre><span></span><code>...
    &lt;WfoAuth isAllowedHandler={..custom function..}&gt;
    ...
    &lt;/WfoAuth&gt;
...
</code></pre></div>
<p>The signature of the function should be <code>(routerPath: string, resource?: string) =&gt; boolean;</code>. The function is called on with the <code>routerpath</code> value and
the <code>resource</code>. This is the list of events the function is called on is:</p>
<div class="highlight"><pre><span></span><code>export enum PolicyResource {
    NAVIGATION_METADATA = &#39;/orchestrator/metadata/&#39;, // called when determining if the metadata menuitem should be shown
    NAVIGATION_SETTINGS = &#39;/orchestrator/settings/&#39;, // called when determining if the settings menuitem should be shown
    NAVIGATION_SUBSCRIPTIONS = &#39;/orchestrator/subscriptions/&#39;, // called when determining if the subscriptions should be shown
    NAVIGATION_TASKS = &#39;/orchestrator/tasks/&#39;, // called when determining if the tasks menuitem should be shown
    NAVIGATION_WORKFLOWS = &#39;/orchestrator/processes/&#39;, // called when determining if the processes menuitem should be shown
    PROCESS_ABORT = &#39;/orchestrator/processes/abort/&#39;, // called when determining if the button to trigger a process abort should be shown
    PROCESS_DELETE = &#39;/orchestrator/processes/delete/&#39;, // called when determining if the button to trigger a process delete button should be shown
    PROCESS_DETAILS = &#39;/orchestrator/processes/details/&#39;, // called when determining if the process detail page should be displayed
    PROCESS_RELATED_SUBSCRIPTIONS = &#39;/orchestrator/subscriptions/view/from-process&#39;, // called when determining if the related subscriptions for a subscription should be shown
    PROCESS_RETRY = &#39;/orchestrator/processes/retry/&#39;, // called when determining if the button to trigger a process retry should be shown
    PROCESS_USER_INPUT = &#39;/orchestrator/processes/user-input/&#39;, // called when determining if th
    SUBSCRIPTION_CREATE = &#39;/orchestrator/processes/create/process/menu&#39;, // called when determining if create if actions that trigger a create workflow should be displayed
    SUBSCRIPTION_MODIFY = &#39;/orchestrator/subscriptions/modify/&#39;, // called when determining if create if actions that trigger a modify workflow should be displayed
    SUBSCRIPTION_TERMINATE = &#39;/orchestrator/subscriptions/terminate/&#39;, // called when determining if create if actions that trigger a terminate workflow should be displayed
    SUBSCRIPTION_VALIDATE = &#39;/orchestrator/subscriptions/validate/&#39;, // called when determining if create if actions that trigger a validate task should be displayed
    TASKS_CREATE = &#39;/orchestrator/processes/create/task&#39;, // called when determining if create if actions that trigger a task should be displayed
    TASKS_RETRY_ALL = &#39;/orchestrator/processes/all-tasks/retry&#39;, // called when determining if create if actions that trigger retry all tasks task should be displayed
    SETTINGS_FLUSH_CACHE = &#39;/orchestrator/settings/flush-cache&#39;, // called when determining if a button to flush cache should be displayed
    SET_IN_SYNC = &#39;/orchestrator/subscriptions/set-in-sync&#39;, // called when determining if a button to set a subscription in sync should be displayed
}
</code></pre></div>
<p>Note: Components that are hidden for unauthorized users are still part of the frontend application, authorization just makes sure
unauthorized users are not presented with actions they are not allowed to take. The calls these actions
make can still be made through curl calls for example. Additional authorization needs to be implemented on these calls on the backend.</p>
<h3 id="backend_1">Backend</h3>
<p><strong>ENV variables</strong>
These variables need to be set for authentication to work on the backend</p>
<div class="highlight"><pre><span></span><code>...
# OIDC settings
OAUTH2_ACTIVE: bool = True
OAUTH2_AUTHORIZATION_ACTIVE: bool = True
OAUTH2_RESOURCE_SERVER_ID: str = &quot;&quot;
OAUTH2_RESOURCE_SERVER_SECRET: str = &quot;&quot;
OAUTH2_TOKEN_URL: str = &quot;&quot;
OIDC_BASE_URL: str = &quot;&quot;
OIDC_CONF_URL: str = &quot;&quot;

# OPtional OPA settings
OPA_URL: str = &quot;&quot;
</code></pre></div>
<p>With the variables provided, requests to endpoints will return 403 error codes for users that are not logged in and 401 error codes for users that are not authorized to do a call.</p>
<h4 id="customization">Customization</h4>
<p><code>AuthManager</code> serves as the central unit for managing both <code>authentication</code> and <code>authorization</code> mechanisms.
While it defaults to using <code>OIDCAuth</code> for authentication, <code>OPAAuthorization</code> for http authorization and <code>GraphQLOPAAuthorization</code> for graphql authorization , it supports customization.</p>
<p>When initiating the <code>OrchestratorCore</code> class, it's <a href="https://github.com/workfloworchestrator/orchestrator-core/blob/70b0617049dfd25d31cbe3a7e5c8d6e48150f307/orchestrator/app.py#L95"><code>auth_manager</code></a> property is set to <code>AuthManager</code>. AuthManager is provided by <a href="https://github.com/workfloworchestrator/oauth2-lib">oauth2_lib</a>.</p>
<p><code>AuthManager</code> provides 3 methods that are called for authentication and authorization: <code>authentication</code>, <code>authentication</code> and <code>graphql_authorization</code>.</p>
<p><code>authentication</code>: The default method provided by Oaut2Lib implements returning the OIDC user from the OIDC introspection endpoint.</p>
<p><code>authorization</code>: A method that applies authorization decisions to HTTP requests, the decision is either true (Allowed) or false (Forbidden). Gets this payload to based decisions on. The default method provided by Oaut2Lib uses OPA and sends the payload to the opa_url specified in OPA_URL setting to get a decision.</p>
<div class="highlight"><pre><span></span><code>            &quot;input&quot;: {
                **(self.opa_kwargs or {}),
                **(user_info or {}),
                &quot;resource&quot;: request.url.path,
                &quot;method&quot;: request_method,
                &quot;arguments&quot;: {&quot;path&quot;: request.path_params, &quot;query&quot;: {**request.query_params}, &quot;json&quot;: json},
            }
</code></pre></div>
<p>Note:
The default authentication method allows for the passing in of <strong>is_bypassable_request</strong> method that receives the Request object
and returns a boolean. When this method returns true the request is always allowed regardless of other authorization decisions.</p>
<p><code>graphql_authorization</code>: A method that applies authorization decisions to graphql requests. Specializes OPA authorization for GraphQL operations.
GraphQl results always return a 200 response when authenticated but can return 403 results for partial results as may occur in federated scenarios.</p>
<h3 id="customizing">Customizing</h3>
<p>When initializing the app we have the option to register custom authentication and authorization methods and override the default auth(n|z) logic.</p>
<div class="highlight"><pre><span></span><code>...
    app.register_authentication(...)
    app.register_authorization(...)
    app.register_graphql_authorization(...)
...
</code></pre></div>
<p><strong>app.register_authentication</strong> takes an subclass of abstract class</p>
<div class="highlight"><pre><span></span><code>from abc import ABC, abstractmethod

class Authentication(ABC):
    &quot;&quot;&quot;Abstract base for authentication mechanisms.

    Requires an async authenticate method implementation.
    &quot;&quot;&quot;

    @abstractmethod
    async def authenticate(self, request: HTTPConnection, token: str | None = None) -&gt; dict | None:
        &quot;&quot;&quot;Authenticate the user.&quot;&quot;&quot;
        pass
</code></pre></div>
<p>Authorization decisions can be made based on request properties and the token provided</p>
<p><strong>app.register_authorization</strong> takes an subclass of abstract class</p>
<div class="highlight"><pre><span></span><code>from abc import ABC, abstractmethod

class Authorization(ABC):
    &quot;&quot;&quot;Defines the authorization logic interface.

    Implementations must provide an async method to authorize based on request and user info.
    &quot;&quot;&quot;

    @abstractmethod
    async def authorize(self, request: HTTPConnection, user: OIDCUserModel) -&gt; bool | None:
        pass
</code></pre></div>
<p>Authorization decisions can be made based on request properties and user attributes</p>
<p><strong>app.register_graphql_authorization</strong> takes a subclass of abstract class</p>
<div class="highlight"><pre><span></span><code>class GraphqlAuthorization(ABC):
    &quot;&quot;&quot;Defines the graphql authorization logic interface.

    Implementations must provide an async method to authorize based on request and user info.
    &quot;&quot;&quot;

    @abstractmethod
    async def authorize(self, request: RequestPath, user: OIDCUserModel) -&gt; bool | None:
        pass
</code></pre></div>
<p>Graphql Authorization decisions can be made based on request properties and user attributes</p>
<h3 id="example">Example</h3>
<p>Below is an example illustrating how to override the default configurations:</p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">orchestrator</span><span class="w"> </span><span class="kn">import</span> <span class="n">OrchestratorCore</span><span class="p">,</span> <span class="n">app_settings</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">oauth2_lib.fastapi</span><span class="w"> </span><span class="kn">import</span> <span class="n">OIDCAuth</span><span class="p">,</span> <span class="n">OIDCUserModel</span><span class="p">,</span> <span class="n">Authorization</span><span class="p">,</span> <span class="n">RequestPath</span><span class="p">,</span> <span class="n">GraphqlAuthorization</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">oauth2_lib.settings</span><span class="w"> </span><span class="kn">import</span> <span class="n">oauth2lib_settings</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">httpx</span><span class="w"> </span><span class="kn">import</span> <span class="n">AsyncClient</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">starlette.requests</span><span class="w"> </span><span class="kn">import</span> <span class="n">HTTPConnection</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">typing</span><span class="w"> </span><span class="kn">import</span> <span class="n">Optional</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CustomOIDCAuth</span><span class="p">(</span><span class="n">OIDCAuth</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">userinfo</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">async_request</span><span class="p">:</span> <span class="n">AsyncClient</span><span class="p">,</span> <span class="n">token</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">OIDCUserModel</span><span class="p">:</span>
        <span class="c1"># Custom implementation to fetch user information</span>
        <span class="k">return</span> <span class="n">OIDCUserModel</span><span class="p">(</span>
            <span class="n">sub</span><span class="o">=</span><span class="s2">&quot;user-sub&quot;</span><span class="p">,</span>
            <span class="n">email</span><span class="o">=</span><span class="s2">&quot;example-user@company.org&quot;</span><span class="p">,</span>
            <span class="c1"># ...</span>
        <span class="p">)</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CustomAuthorization</span><span class="p">(</span><span class="n">Authorization</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">authorize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">HTTPConnection</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">OIDCUserModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
        <span class="c1"># Implement custom authorization logic</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="k">class</span><span class="w"> </span><span class="nc">CustomGraphqlAuthorization</span><span class="p">(</span><span class="n">GraphqlAuthorization</span><span class="p">):</span>
    <span class="k">async</span> <span class="k">def</span><span class="w"> </span><span class="nf">authorize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">request</span><span class="p">:</span> <span class="n">RequestPath</span><span class="p">,</span> <span class="n">user</span><span class="p">:</span> <span class="n">OIDCUserModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">bool</span><span class="p">]:</span>
        <span class="c1"># Implement custom GraphQL authorization logic</span>
        <span class="k">return</span> <span class="kc">True</span>

<span class="n">oidc_instance</span> <span class="o">=</span> <span class="n">CustomOIDCAuth</span><span class="p">(</span>
    <span class="n">openid_url</span><span class="o">=</span><span class="n">oauth2lib_settings</span><span class="o">.</span><span class="n">OIDC_BASE_URL</span><span class="p">,</span>
    <span class="n">openid_config_url</span><span class="o">=</span><span class="n">oauth2lib_settings</span><span class="o">.</span><span class="n">OIDC_CONF_URL</span><span class="p">,</span>
    <span class="n">resource_server_id</span><span class="o">=</span><span class="n">oauth2lib_settings</span><span class="o">.</span><span class="n">OAUTH2_RESOURCE_SERVER_ID</span><span class="p">,</span>
    <span class="n">resource_server_secret</span><span class="o">=</span><span class="n">oauth2lib_settings</span><span class="o">.</span><span class="n">OAUTH2_RESOURCE_SERVER_SECRET</span><span class="p">,</span>
    <span class="n">oidc_user_model_cls</span><span class="o">=</span><span class="n">OIDCUserModel</span><span class="p">,</span>
<span class="p">)</span>

<span class="n">authorization_instance</span> <span class="o">=</span> <span class="n">CustomAuthorization</span><span class="p">()</span>
<span class="n">graphql_authorization_instance</span> <span class="o">=</span> <span class="n">CustomGraphqlAuthorization</span><span class="p">()</span>

<span class="n">app</span> <span class="o">=</span> <span class="n">OrchestratorCore</span><span class="p">(</span><span class="n">base_settings</span><span class="o">=</span><span class="n">app_settings</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">register_authentication</span><span class="p">(</span><span class="n">oidc_instance</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">register_authorization</span><span class="p">(</span><span class="n">authorization_instance</span><span class="p">)</span>
<span class="n">app</span><span class="o">.</span><span class="n">register_graphql_authorization</span><span class="p">(</span><span class="n">graphql_authorization_instance</span><span class="p">)</span>
</code></pre></div>
<h2 id="authorization-and-workflows">Authorization and Workflows</h2>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Role-based access control for workflows is currently in beta.
Initial support has been added to the backend, but the feature is not fully communicated through the UI yet.</p>
</div>
<p>Certain <code>orchestrator-core</code> decorators accept authorization callbacks of type <code>type Authorizer = Callable[OIDCUserModel, bool]</code>, which return True when the input user is authorized, otherwise False.</p>
<p>A table (below) is available for comparing possible configuration states with the policy that will be enforced.</p>
<h3 id="workflow"><code>@workflow</code></h3>
<p>The <code>@workflow</code> decorator accepts the optional parameters <code>auth: Authorizer</code> and <code>retry_auth: Authorizer</code>.</p>
<p><code>auth</code> will be used to determine the authorization of a user to start the workflow.
If <code>auth</code> is omitted, the workflow is authorized for any logged in user.</p>
<p><code>retry_auth</code> will be used to determine the authorization of a user to start, resume, or retry the workflow from a failed step.
If <code>retry_auth</code> is omitted, then <code>auth</code> is used to authorize.</p>
<p>(This does not percolate past an <code>@inputstep</code> that specifies <code>resume_auth</code> or <code>retry_auth</code>.)</p>
<p>Examples:</p>
<ul>
<li><code>auth=None, retry_auth=None</code>: any user may run the workflow.</li>
<li><code>auth=A, retry_auth=B</code>: users authorized by A may start the workflow. Users authorized by B may retry on failure.<ul>
<li>Example: starting the workflow is a decision that must be made by a product owner. Retrying can be made by an on-call member of the operations team.</li>
</ul>
</li>
<li><code>auth=None, retry_auth=B</code>: any user can start the workflow, but only users authorized by B may retry on failure.</li>
</ul>
<h3 id="inputstep"><code>@inputstep</code></h3>
<p>The <code>@inputstep</code> decorator accepts the optional parameters <code>resume_auth: Authorizer</code> and <code>retry_auth: Authorizer</code>.</p>
<p><code>resume_auth</code> will be used to determine the authorization of a user to resume the workflow when suspended at this inputstep.
If <code>resume_auth</code> is omitted, then the workflow's <code>auth</code> will be used.</p>
<p><code>retry_auth</code> will be used to determine the authorization of a user to retry the workflow from a failed step following the inputstep.
If <code>retry_auth</code> is omitted, then <code>resume_auth</code> is used to authorize retries.
If <code>resume_auth</code> is also omitted, then the workflow’s <code>retry_auth</code> is checked, and then the workflow’s <code>auth</code>.</p>
<p>In summary:</p>
<ul>
<li>A workflow establishes <code>auth</code> for starting, resuming, or retrying.</li>
<li>The workflow can also establish <code>retry_auth</code>, which will override <code>auth</code> for retries.<ul>
<li>An inputstep can override the existing <code>auth</code> with <code>resume_auth</code> and the existing <code>retry_auth</code> with its own <code>retry_auth</code>.</li>
</ul>
</li>
<li>Subsequent inputsteps can do the same, but any None will not overwrite a previous not-None.</li>
</ul>
<h3 id="policy-resolutions">Policy resolutions</h3>
<p>Below is an exhaustive table of how policies (implemented as callbacks <code>A</code>, <code>B</code>, <code>C</code>, and <code>D</code>)
are prioritized in different workflow and inputstep configurations.</p>
<table>
  <thead>
    <tr>
      <th colspan=4>Configuration</th>
      <th colspan=4>Enforcement</th>
      <th>Notes</th>
    </tr>
    <tr>
      <th colspan=2>@workflow</th>
      <th colspan=2>@inputstep</th>
      <th colspan=2>before @inputstep</th>
      <th colspan=2>@inputstep and after</th>
      <th></th>
    </tr>
    <tr>
      <th>auth</th>
      <th>retry_auth</th>
      <th>resume_auth</th>
      <th>retry_auth</th>
      <th>start</th>
      <th>retry</th>
      <th>resume</th>
      <th>retry</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
      <tr>
        <td>None</td>
        <td>None</td>
        <td>None</td>
        <td>None</td>
        <td>Anyone</td>
        <td>Anyone</td>
        <td>Anyone</td>
        <td>Anyone</td>
        <td>Default</td>
      </tr>
      <tr>
        <td>A</td>
        <td>None</td>
        <td>None</td>
        <td>None</td>
        <td>A</td>
        <td>A</td>
        <td>A</td>
        <td>A</td>
        <td>Broadly restrict the workflow to a specific authorizer.</td>
      </tr>
      <tr>
        <td>None</td>
        <td>B</td>
        <td>None</td>
        <td>None</td>
        <td>Anyone</td>
        <td>B</td>
        <td>Anyone</td>
        <td>B</td>
        <td>original retry_auth is maintained if nothing supercedes it. Weird choice, but this provides a "we specifically want to limit retries" route.</td>
      </tr>
      <tr>
        <td>A</td>
        <td>B</td>
        <td>None</td>
        <td>None</td>
        <td>A</td>
        <td>B</td>
        <td>A</td>
        <td>B</td>
        <td>Workflow-level auth and retry. Allows A or B to be tighter or distinct, as needed.</td>
      </tr>
      <tr>
        <td>None</td>
        <td>None</td>
        <td>C</td>
        <td>None</td>
        <td>Anyone</td>
        <td>Anyone</td>
        <td>C</td>
        <td>C</td>
        <td>Anyone can start this workflow, but only C can continue it.</td>
      </tr>
      <tr>
        <td>A</td>
        <td>None</td>
        <td>C</td>
        <td>None</td>
        <td>A</td>
        <td>A</td>
        <td>C</td>
        <td>C</td>
        <td>Subsequent retries use C, not A! Override with retry_auth=A if desired.</td>
      </tr>
      <tr>
        <td>None</td>
        <td>B</td>
        <td>C</td>
        <td>None</td>
        <td>Anyone</td>
        <td>B</td>
        <td>C</td>
        <td>C</td>
        <td>Subsequent retries use C, not B! Override with retry_auth=B if desired.</td>
      </tr>
      <tr>
        <td>A</td>
        <td>B</td>
        <td>C</td>
        <td>None</td>
        <td>A</td>
        <td>B</td>
        <td>C</td>
        <td>C</td>
        <td>Simple override initial settings with inputstep resume_auth.</td>
      </tr>
      <tr>
        <td>None</td>
        <td>None</td>
        <td>None</td>
        <td>D</td>
        <td>Anyone</td>
        <td>Anyone</td>
        <td>Anyone</td>
        <td>D</td>
        <td>Anyone can start or retry or resume, but limit retries to D once inputstep is reached.</td>
      </tr>
      <tr>
        <td>A</td>
        <td>None</td>
        <td>None</td>
        <td>D</td>
        <td>A</td>
        <td>A</td>
        <td>A</td>
        <td>D</td>
        <td>A can start or retry or resume, but limit retries to D once inputstep is reached.</td>
      </tr>
      <tr>
        <td>None</td>
        <td>B</td>
        <td>None</td>
        <td>D</td>
        <td>Anyone</td>
        <td>B</td>
        <td>Anyone</td>
        <td>D</td>
        <td>Anyone can start or resume, but only B can retry. After inputstep, only D can retry.</td>
      </tr>
      <tr>
        <td>A</td>
        <td>B</td>
        <td>None</td>
        <td>D</td>
        <td>A</td>
        <td>B</td>
        <td>A</td>
        <td>D</td>
        <td>A can start or resume, but only B can retry. After inputstep, only D can retry.</td>
      </tr>
      <tr>
        <td>None</td>
        <td>None</td>
        <td>C</td>
        <td>D</td>
        <td>Anyone</td>
        <td>Anyone</td>
        <td>C</td>
        <td>D</td>
        <td>Anyone can start, but only C can resume and only D can retry after the resume.</td>
      </tr>
      <tr>
        <td>A</td>
        <td>None</td>
        <td>C</td>
        <td>D</td>
        <td>A</td>
        <td>A</td>
        <td>C</td>
        <td>D</td>
        <td></td>
      </tr>
      <tr>
        <td>None</td>
        <td>B</td>
        <td>C</td>
        <td>D</td>
        <td>Anyone</td>
        <td>B</td>
        <td>C</td>
        <td>D</td>
        <td></td>
      </tr>
      <tr>
        <td>A</td>
        <td>B</td>
        <td>C</td>
        <td>D</td>
        <td>A</td>
        <td>B</td>
        <td>C</td>
        <td>D</td>
        <td></td>
      </tr>
  </tbody>
</table>

<h3 id="examples">Examples</h3>
<p>Assume we have the following function that can be used to create callbacks:</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">allow_roles</span><span class="p">(</span><span class="o">*</span><span class="n">roles</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Callable</span><span class="p">[</span><span class="n">OIDCUserModel</span><span class="o">|</span><span class="kc">None</span><span class="p">,</span> <span class="nb">bool</span><span class="p">]:</span>
    <span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">user</span><span class="p">:</span> <span class="n">OIDCUserModel</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
        <span class="k">if</span> <span class="n">is_admin</span><span class="p">(</span><span class="n">user</span><span class="p">):</span>  <span class="c1"># Relative to your authorization provider</span>
            <span class="k">return</span> <span class="kc">True</span>
        <span class="k">for</span> <span class="n">role</span> <span class="ow">in</span> <span class="n">roles</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">has_role</span><span class="p">(</span><span class="n">user</span><span class="p">,</span> <span class="n">role</span><span class="p">):</span>  <span class="c1"># Relative to your authorization provider</span>
                <span class="k">return</span> <span class="kc">True</span>
        <span class="k">return</span> <span class="kc">False</span>

    <span class="k">return</span> <span class="n">f</span>
</code></pre></div>
<p>We can now construct a variety of authorization policies.</p>
<h4 id="rubber-stamp-model">Rubber Stamp Model</h4>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>Suppose we have a workflow W that needs to pause on inputstep <code>approval</code> for approval from finance. Ops (and only ops) should be able to start the workflow and retry any failed steps. Finance (and only finance) should be able to resume at the input step.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@workflow</span><span class="p">(</span><span class="s2">&quot;An expensive workflow&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">allow_roles</span><span class="p">(</span><span class="s2">&quot;ops&quot;</span><span class="p">))</span>
<span class="k">def</span><span class="w"> </span><span class="nf">W</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">begin</span> <span class="o">&gt;&gt;</span> <span class="n">A</span> <span class="o">&gt;&gt;</span> <span class="o">...</span> <span class="o">&gt;&gt;</span> <span class="n">notify_finance</span> <span class="o">&gt;&gt;</span> <span class="n">approval</span> <span class="o">&gt;&gt;</span> <span class="o">...</span> <span class="o">&gt;&gt;</span> <span class="n">Z</span>

<span class="nd">@inputstep</span><span class="p">(</span><span class="s2">&quot;Approval&quot;</span><span class="p">,</span> <span class="n">resume_auth</span><span class="o">=</span><span class="n">allow_roles</span><span class="p">(</span><span class="s2">&quot;finance&quot;</span><span class="p">),</span> <span class="n">retry_auth</span><span class="o">=</span><span class="n">allow_roles</span><span class="p">(</span><span class="s2">&quot;ops&quot;</span><span class="p">))</span>
<span class="k">def</span><span class="w"> </span><span class="nf">approval</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
</div>
<h4 id="hand-off-model">Hand-off Model</h4>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>Suppose we have two teams, Dev and Platform, and a long workflow W that should be handed off to Platform at step <code>approval</code>.</p>
<p>Dev can start the workflow and retry steps prior to S. Once step S is reached, Platform (and only Platform) can resume the workflow and retry later failed steps.</p>
<p><div class="highlight"><pre><span></span><code><span class="nd">@workflow</span><span class="p">(</span><span class="s2">&quot;An expensive workflow&quot;</span><span class="p">,</span> <span class="n">auth</span><span class="o">=</span><span class="n">allow_roles</span><span class="p">(</span><span class="s2">&quot;dev&quot;</span><span class="p">))</span>
<span class="k">def</span><span class="w"> </span><span class="nf">W</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">begin</span> <span class="o">&gt;&gt;</span> <span class="n">A</span> <span class="o">&gt;&gt;</span> <span class="o">...</span> <span class="o">&gt;&gt;</span> <span class="n">notify_platform</span> <span class="o">&gt;&gt;</span> <span class="n">handoff</span> <span class="o">&gt;&gt;</span> <span class="o">...</span> <span class="o">&gt;&gt;</span> <span class="n">Z</span>

<span class="nd">@inputstep</span><span class="p">(</span><span class="s2">&quot;Hand-off&quot;</span><span class="p">,</span> <span class="n">resume_auth</span><span class="o">=</span><span class="n">allow_roles</span><span class="p">(</span><span class="s2">&quot;platform&quot;</span><span class="p">))</span>
<span class="k">def</span><span class="w"> </span><span class="nf">handoff</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="o">...</span>
</code></pre></div>
Notice that default behaviors let us ignore <code>retry_auth</code> arguments in both decorators.</p>
</div>
<h4 id="restricted-retries-model">Restricted Retries Model</h4>
<div class="admonition example">
<p class="admonition-title">Example</p>
<p>Suppose we have a workflow that anyone can run, but with steps that should only be retried by users with certain backend access.</p>
<div class="highlight"><pre><span></span><code><span class="nd">@workflow</span><span class="p">(</span><span class="s2">&quot;A workflow for any user&quot;</span><span class="p">,</span> <span class="n">retry_auth</span><span class="o">=</span><span class="n">allow_roles</span><span class="p">(</span><span class="s2">&quot;admin&quot;</span><span class="p">))</span>
<span class="k">def</span><span class="w"> </span><span class="nf">W</span><span class="p">(</span><span class="o">...</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">begin</span> <span class="o">&gt;&gt;</span> <span class="n">A</span> <span class="o">&gt;&gt;</span> <span class="o">...</span> <span class="o">&gt;&gt;</span> <span class="n">S</span> <span class="o">&gt;&gt;</span> <span class="o">...</span> <span class="o">&gt;&gt;</span> <span class="n">Z</span>
</code></pre></div>
<p>Note that we could specify <code>auth=allow_roles("user")</code> if helpful, or we can omit <code>auth</code> to fail open to any logged in user.</p>
</div>







  
  






                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; 2018 - 2024 Workflow Orchestrator Programme
    </div>
  
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
    <a href="https://discord.gg/fQkQn5ajFR" target="_blank" rel="noopener" title="WFO on Discord!" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><!--! Font Awesome Free 7.0.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M492.5 69.8c-.2-.3-.4-.6-.8-.7-38.1-17.5-78.4-30-119.7-37.1-.4-.1-.8 0-1.1.1s-.6.4-.8.8c-5.5 9.9-10.5 20.2-14.9 30.6-44.6-6.8-89.9-6.8-134.4 0-4.5-10.5-9.5-20.7-15.1-30.6-.2-.3-.5-.6-.8-.8s-.7-.2-1.1-.2C162.5 39 122.2 51.5 84.1 69c-.3.1-.6.4-.8.7C7.1 183.5-13.8 294.6-3.6 404.2c0 .3.1.5.2.8s.3.4.5.6c44.4 32.9 94 58 146.8 74.2.4.1.8.1 1.1 0s.7-.4.9-.7c11.3-15.4 21.4-31.8 30-48.8.1-.2.2-.5.2-.8s0-.5-.1-.8-.2-.5-.4-.6-.4-.3-.7-.4c-15.8-6.1-31.2-13.4-45.9-21.9-.3-.2-.5-.4-.7-.6s-.3-.6-.3-.9 0-.6.2-.9.3-.5.6-.7c3.1-2.3 6.2-4.7 9.1-7.1.3-.2.6-.4.9-.4s.7 0 1 .1c96.2 43.9 200.4 43.9 295.5 0 .3-.1.7-.2 1-.2s.7.2.9.4c2.9 2.4 6 4.9 9.1 7.2.2.2.4.4.6.7s.2.6.2.9-.1.6-.3.9-.4.5-.6.6c-14.7 8.6-30 15.9-45.9 21.8-.2.1-.5.2-.7.4s-.3.4-.4.7-.1.5-.1.8.1.5.2.8c8.8 17 18.8 33.3 30 48.8.2.3.6.6.9.7s.8.1 1.1 0c52.9-16.2 102.6-41.3 147.1-74.2.2-.2.4-.4.5-.6s.2-.5.2-.8c12.3-126.8-20.5-236.9-86.9-334.5zm-302 267.7c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.4 59.2-52.8 59.2m195.4 0c-29 0-52.8-26.6-52.8-59.2s23.4-59.2 52.8-59.2c29.7 0 53.3 26.8 52.8 59.2 0 32.7-23.2 59.2-52.8 59.2"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      <script id="__config" type="application/json">{"base": "../..", "features": ["search.suggest", "search.highlight", "navigation.tabs", "navigation.tabs.sticky", "navigation.tracking", "navigation.instant", "navigation.indexes", "content.code.copy", "content.code.annotate", "content.tooltips", "header.autohide"], "search": "../../assets/javascripts/workers/search.973d3a69.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.92b07e13.min.js"></script>
      
        <script src="../../js/termynal.js"></script>
      
        <script src="../../js/custom.js"></script>
      
        <script src="../../js/open_in_new_tab.js"></script>
      
    
  </body>
</html>